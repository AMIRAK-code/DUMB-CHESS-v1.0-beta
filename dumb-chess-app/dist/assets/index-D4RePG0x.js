(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))i(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const l of n.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function r(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerPolicy&&(n.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?n.credentials="include":e.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(e){if(e.ep)return;e.ep=!0;const n=r(e);fetch(e.href,n)}})();let p="easy",m=!1;const C={wP:"â™™",wK:"â™”",bP:"â™Ÿ",bK:"â™š",bQ:"â™›",empty:""};let o=[],c=null,y=!0;document.addEventListener("DOMContentLoaded",()=>{});window.selectDifficulty=function(s){if(p=s,document.getElementById("start-screen").style.display="none",document.getElementById("game-ui").style.filter="none",s==="stupid"){const t=document.getElementById("rules-list"),r=document.createElement("li");r.style.color="red",r.style.fontWeight="bold",r.innerText="ðŸ‘¹ BOSS: The Black Queen moves like a REAL Chess Queen (Slide any distance). Good luck.",t.appendChild(r)}L()};function L(){m=!0,y=!0,c=null,o=Array(8).fill(null).map(()=>Array(8).fill(null)),o[0][4]="bK";for(let t=0;t<8;t++)o[1][t]="bP";if(p==="hard")for(let t=0;t<8;t++)o[2][t]="bP";p==="stupid"&&(o[0][3]="bQ");for(let t=0;t<8;t++)o[6][t]="wP";o[7][4]="wK",document.querySelector(".chessboard").classList.remove("flipped"),b()}function b(){for(let s=0;s<8;s++)for(let t=0;t<8;t++){const r=`square-${s}-${t}`,i=document.getElementById(r),e=o[s][t];i.innerText=e?C[e]:"",i.classList.remove("selected","valid-move");const n=i.cloneNode(!0);i.parentNode.replaceChild(n,i),n.addEventListener("click",()=>K(s,t))}}function K(s,t){if(!m||!y)return;const r=o[s][t],i=r&&r.startsWith("w");if(c){if(M(c.r,c.c,s,t,o[c.r][c.c])){v(c.r,c.c,s,t),m&&(y=!1,setTimeout(B,600));return}if(i){c={r:s,c:t},E(s,t);return}c=null,b()}else i&&(c={r:s,c:t},E(s,t))}function M(s,t,r,i,e){const n=Math.abs(r-s),l=Math.abs(i-t);return e==="bQ"?n===0||l===0||n===l?q(s,t,r,i):!1:n<=1&&l<=1&&n+l>0}function q(s,t,r,i){const e=Math.sign(r-s),n=Math.sign(i-t);let l=s+e,f=t+n;for(;l!==r||f!==i;){if(o[l][f]!==null)return!1;l+=e,f+=n}return!0}function E(s,t){b(),document.getElementById(`square-${s}-${t}`).classList.add("selected");const r=o[s][t];for(let i=0;i<8;i++)for(let e=0;e<8;e++)M(s,t,i,e,r)&&document.getElementById(`square-${i}-${e}`).classList.add("valid-move")}function v(s,t,r,i){const e=o[s][t],n=o[r][i];n==="wK"&&g("Black Wins! You killed your own King.",!1),n==="bK"&&g("White Wins! The King is dead.",!0),o[r][i]=e,o[s][t]=null,b()}function B(){if(!m)return;const s=[];let t=null;for(let e=0;e<8;e++)for(let n=0;n<8;n++){const l=o[e][n];l&&l.startsWith("b")&&s.push({r:e,c:n,type:l}),l==="wK"&&(t={r:e,c:n})}if(!t){g("Black Wins!",!1);return}let r=null,i=-99999;if(s.forEach(e=>{const n=e.type==="bQ"?0:Math.max(0,e.r-1),l=e.type==="bQ"?7:Math.min(7,e.r+1),f=e.type==="bQ"?0:Math.max(0,e.c-1),P=e.type==="bQ"?7:Math.min(7,e.c+1);for(let d=n;d<=l;d++)for(let u=f;u<=P;u++)if(M(e.r,e.c,d,u,e.type)){const h=o[d][u];let a=0;if(h==="wK")a=5e3;else if(h==="wP")a=50;else if(h&&h.startsWith("b"))a=-500;else{const w=Math.abs(e.r-t.r)+Math.abs(e.c-t.c);Math.abs(d-t.r)+Math.abs(u-t.c)<w&&(a+=10)}e.type==="bQ"&&(a+=5),a+=Math.random()*10,a>i&&(i=a,r={fromR:e.r,fromC:e.c,toR:d,toC:u})}}),r){const e=o[r.toR][r.toC];v(r.fromR,r.fromC,r.toR,r.toC),e!=="wK"&&(y=!0)}}function g(s,t){m=!1,document.querySelector(".chessboard").classList.add("flipped");const r=document.createElement("div");r.id="game-overlay";const i=document.createElement("h1");i.innerText=s,i.style.textAlign="center";const e=document.createElement("p");e.innerText=t?"Well played!":"Try again?";const n=document.createElement("button");n.className="btn btn-easy",n.innerText="MAIN MENU",n.onclick=function(){location.reload()},r.appendChild(i),r.appendChild(e),r.appendChild(n),document.body.appendChild(r)}
