(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))o(e);new MutationObserver(e=>{for(const s of e)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function n(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerPolicy&&(s.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?s.credentials="include":e.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(e){if(e.ep)return;e.ep=!0;const s=n(e);fetch(e.href,s)}})();let g="easy",m=!1;const w={wP:"â™™",wK:"â™”",bP:"â™Ÿ",bK:"â™š",bQ:"â™›",empty:""};let i=[],c=null,h=!0;window.selectDifficulty=function(r){if(g=r,document.getElementById("start-screen").style.display="none",document.getElementById("game-ui").style.filter="none",r==="stupid"){const t=document.getElementById("rules-list"),n=document.createElement("li");n.style.color="red",n.style.fontWeight="bold",n.innerText="ðŸ‘¹ BOSS: Black Queen moves like a REAL Chess Queen.",t.appendChild(n)}C()};function C(){m=!0,h=!0,c=null,i=Array(8).fill(null).map(()=>Array(8).fill(null)),i[0][4]="bK";for(let t=0;t<8;t++)i[1][t]="bP";if(g==="hard")for(let t=0;t<8;t++)i[2][t]="bP";g==="stupid"&&(i[0][3]="bQ");for(let t=0;t<8;t++)i[6][t]="wP";i[7][4]="wK",document.querySelector(".chessboard").classList.remove("flipped"),y()}function y(){for(let r=0;r<8;r++)for(let t=0;t<8;t++){const n=`square-${r}-${t}`,o=document.getElementById(n),e=i[r][t];o.innerText=e?w[e]:"",o.classList.remove("selected","valid-move","danger-move");const s=o.cloneNode(!0);o.parentNode.replaceChild(s,o),s.addEventListener("click",()=>K(r,t))}}function K(r,t){if(!m||!h)return;const n=i[r][t];if(n&&n.startsWith("w")){c={r,c:t},B(r,t);return}c&&(M(c.r,c.c,r,t,i[c.r][c.c])?(P(c.r,c.c,r,t),m&&(h=!1,setTimeout(L,600))):(c=null,y()))}function M(r,t,n,o,e){const s=Math.abs(n-r),l=Math.abs(o-t),a=i[n][o],b=e.charAt(0);return a&&a.startsWith(b)?!1:e==="bQ"?s===0||l===0||s===l?q(r,t,n,o):!1:s<=1&&l<=1&&s+l>0}function q(r,t,n,o){const e=Math.sign(n-r),s=Math.sign(o-t);let l=r+e,a=t+s;for(;l!==n||a!==o;){if(i[l][a]!==null)return!1;l+=e,a+=s}return!0}function B(r,t){y(),document.getElementById(`square-${r}-${t}`).classList.add("selected");const n=i[r][t];for(let o=0;o<8;o++)for(let e=0;e<8;e++)M(r,t,o,e,n)&&document.getElementById(`square-${o}-${e}`).classList.add("valid-move")}function P(r,t,n,o){const e=i[r][t],s=i[n][o];s==="bK"&&p("White Wins! The King is dead."),s==="wK"&&p("Black Wins! Your King is dead."),i[n][o]=e,i[r][t]=null,y()}function L(){if(!m)return;const r=[];let t=null;for(let e=0;e<8;e++)for(let s=0;s<8;s++){const l=i[e][s];l&&l.startsWith("b")&&r.push({r:e,c:s,type:l}),l==="wK"&&(t={r:e,c:s})}if(!t){p("Black Wins!");return}let n=null,o=-99999;if(r.forEach(e=>{const s=e.type==="bQ"?0:Math.max(0,e.r-1),l=e.type==="bQ"?7:Math.min(7,e.r+1),a=e.type==="bQ"?0:Math.max(0,e.c-1),b=e.type==="bQ"?7:Math.min(7,e.c+1);for(let u=s;u<=l;u++)for(let d=a;d<=b;d++)if(M(e.r,e.c,u,d,e.type)){const E=i[u][d];let f=0;if(E==="wK")f=5e3;else if(E==="wP")f=50;else{const v=Math.abs(e.r-t.r)+Math.abs(e.c-t.c);Math.abs(u-t.r)+Math.abs(d-t.c)<v&&(f+=10)}f+=Math.random()*10,f>o&&(o=f,n={fromR:e.r,fromC:e.c,toR:u,toC:d})}}),n){const e=i[n.toR][n.toC];P(n.fromR,n.fromC,n.toR,n.toC),e!=="wK"&&(h=!0)}}function p(r,t){m=!1,document.querySelector(".chessboard").classList.add("flipped");const n=document.createElement("div");n.id="game-overlay";const o=document.createElement("h1");o.innerText=r;const e=document.createElement("button");e.className="btn btn-easy",e.innerText="MAIN MENU",e.onclick=function(){location.reload()},n.appendChild(o),n.appendChild(e),document.body.appendChild(n)}
